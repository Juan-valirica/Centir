/* ============================================================
   COMPONENTS.CSS — Tarjetas, Badges, Botones, Tablas, Modals
   Centir · Centro de Psicología · Dashboard
   ============================================================ */

/* ════════════════════════════════════════════════════════════
   STAT CARDS (resumen estadístico)
   ════════════════════════════════════════════════════════════ */
.stat-cards-row {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: var(--space-5);
  margin-bottom: var(--space-8);
}

.stat-card {
  background: var(--surface);
  border-radius: var(--radius-lg);
  padding: var(--space-6);
  border: 1px solid var(--border-light);
  box-shadow: var(--shadow-sm);
  display: flex;
  align-items: flex-start;
  gap: var(--space-4);
  transition: var(--ease);
}

.stat-card:hover {
  box-shadow: var(--shadow-md);
  transform: translateY(-1px);
}

.stat-card-icon {
  width: 48px;
  height: 48px;
  border-radius: var(--radius-md);
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
}

.stat-card-icon svg {
  width: 22px; height: 22px;
  stroke: currentColor; fill: none;
  stroke-width: 2; stroke-linecap: round; stroke-linejoin: round;
}

.stat-card-icon.teal    { background: var(--primary-lighter); color: var(--primary-dark); }
.stat-card-icon.purple  { background: var(--secondary-lighter); color: var(--secondary-dark); }
.stat-card-icon.rose    { background: var(--accent-rose-light); color: #9c4a58; }
.stat-card-icon.sage    { background: var(--accent-sage-light); color: #3d7a3a; }

.stat-card-content { flex: 1; min-width: 0; }

.stat-card-label {
  font-size: 0.75rem;
  font-weight: 500;
  color: var(--text-light);
  text-transform: uppercase;
  letter-spacing: 0.8px;
  margin-bottom: var(--space-1);
}

.stat-card-value {
  font-size: 1.625rem;
  font-weight: 800;
  color: var(--text);
  line-height: 1.1;
}

.stat-card-sub {
  font-size: 0.75rem;
  color: var(--text-light);
  margin-top: var(--space-1);
}

.stat-card-trend {
  display: inline-flex;
  align-items: center;
  gap: 3px;
  font-size: 0.75rem;
  font-weight: 600;
  padding: 2px 7px;
  border-radius: var(--radius-full);
}

.stat-card-trend.up   { background: var(--success-light); color: #3d7a3a; }
.stat-card-trend.down { background: var(--danger-light); color: #9c4a58; }

/* ════════════════════════════════════════════════════════════
   PSICÓLOGA CARDS
   ════════════════════════════════════════════════════════════ */
.psicologa-card {
  background: var(--surface);
  border-radius: var(--radius-xl);
  border: 1px solid var(--border-light);
  box-shadow: var(--shadow-sm);
  overflow: hidden;
  transition: var(--ease-slow);
  display: flex;
  flex-direction: column;
}

.psicologa-card:hover {
  box-shadow: var(--shadow-lg);
  transform: translateY(-3px);
  border-color: var(--primary-light);
}

.psicologa-card-top {
  padding: var(--space-6) var(--space-6) var(--space-4);
  display: flex;
  align-items: flex-start;
  gap: var(--space-4);
}

.psicologa-avatar-wrapper {
  position: relative;
  flex-shrink: 0;
}

.psicologa-avatar {
  width: 72px;
  height: 72px;
  border-radius: var(--radius-full);
  object-fit: cover;
  border: 3px solid var(--surface);
  box-shadow: var(--shadow-md);
}

.psicologa-avatar-fallback {
  width: 72px;
  height: 72px;
  border-radius: var(--radius-full);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.375rem;
  font-weight: 700;
  color: white;
  border: 3px solid var(--surface);
  box-shadow: var(--shadow-md);
  flex-shrink: 0;
}

.status-dot {
  position: absolute;
  bottom: 3px;
  right: 3px;
  width: 12px;
  height: 12px;
  border-radius: var(--radius-full);
  background: var(--success);
  border: 2px solid var(--surface);
}

.psicologa-card-info { flex: 1; min-width: 0; }

.psicologa-name {
  font-size: 1rem;
  font-weight: 700;
  color: var(--text);
  line-height: 1.3;
}

.psicologa-specialty {
  display: inline-flex;
  align-items: center;
  gap: 5px;
  margin-top: var(--space-1);
  padding: 3px 10px;
  border-radius: var(--radius-full);
  font-size: 0.6875rem;
  font-weight: 600;
  letter-spacing: 0.3px;
}

.psicologa-card-divider {
  height: 1px;
  background: var(--border-light);
  margin: 0 var(--space-6);
}

.psicologa-card-stats {
  padding: var(--space-4) var(--space-6);
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: var(--space-4);
}

.psicologa-stat {
  display: flex;
  flex-direction: column;
  gap: 3px;
}

.psicologa-stat-label {
  font-size: 0.6875rem;
  font-weight: 500;
  color: var(--text-light);
  text-transform: uppercase;
  letter-spacing: 0.6px;
  display: flex;
  align-items: center;
  gap: 5px;
}

.psicologa-stat-label svg {
  width: 12px; height: 12px;
  stroke: currentColor; fill: none; stroke-width: 2;
  stroke-linecap: round; stroke-linejoin: round;
}

.psicologa-stat-value {
  font-size: 1.125rem;
  font-weight: 700;
  color: var(--text);
}

.psicologa-stat-value.billing {
  color: var(--primary-dark);
}

.psicologa-card-actions {
  padding: var(--space-4) var(--space-6) var(--space-6);
  margin-top: auto;
}

/* ════════════════════════════════════════════════════════════
   BOTONES
   ════════════════════════════════════════════════════════════ */
.btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: var(--space-2);
  padding: var(--space-3) var(--space-5);
  border-radius: var(--radius-md);
  font-size: 0.875rem;
  font-weight: 600;
  cursor: pointer;
  transition: var(--ease);
  border: 1.5px solid transparent;
  text-decoration: none;
  white-space: nowrap;
}

.btn svg {
  width: 16px; height: 16px;
  stroke: currentColor; fill: none; stroke-width: 2;
  stroke-linecap: round; stroke-linejoin: round;
  flex-shrink: 0;
}

.btn-primary {
  background: linear-gradient(135deg, var(--primary-dark), var(--primary));
  color: white;
  border-color: var(--primary-dark);
}
.btn-primary:hover {
  background: linear-gradient(135deg, var(--primary-darker), var(--primary-dark));
  box-shadow: 0 4px 12px rgba(156, 195, 192, 0.4);
  transform: translateY(-1px);
}

.btn-secondary {
  background: linear-gradient(135deg, var(--secondary-dark), var(--secondary));
  color: white;
  border-color: var(--secondary-dark);
}
.btn-secondary:hover {
  background: linear-gradient(135deg, var(--secondary-darker), var(--secondary-dark));
  box-shadow: 0 4px 12px rgba(151, 135, 163, 0.4);
  transform: translateY(-1px);
}

.btn-outline {
  background: transparent;
  color: var(--text-medium);
  border-color: var(--border);
}
.btn-outline:hover {
  background: var(--bg);
  border-color: var(--primary);
  color: var(--primary-dark);
}

.btn-ghost {
  background: transparent;
  color: var(--text-medium);
  border-color: transparent;
}
.btn-ghost:hover {
  background: var(--bg);
  color: var(--text);
}

.btn-sm {
  padding: var(--space-2) var(--space-4);
  font-size: 0.8125rem;
}

.btn-lg {
  padding: var(--space-4) var(--space-6);
  font-size: 0.9375rem;
}

.btn-full { width: 100%; }

.btn-icon {
  width: 36px; height: 36px;
  padding: 0;
  border-radius: var(--radius-md);
  flex-shrink: 0;
}

/* ════════════════════════════════════════════════════════════
   TAGS / BADGES
   ════════════════════════════════════════════════════════════ */
.tag {
  display: inline-flex;
  align-items: center;
  gap: 4px;
  padding: 3px 10px;
  border-radius: var(--radius-full);
  font-size: 0.6875rem;
  font-weight: 600;
  letter-spacing: 0.2px;
  white-space: nowrap;
}

.tag svg {
  width: 10px; height: 10px;
  stroke: currentColor; fill: none; stroke-width: 2.5;
  stroke-linecap: round; stroke-linejoin: round;
}

/* Categorías */
.tag-centir    { background: var(--tag-centir-bg);    color: var(--tag-centir-text); }
.tag-referido  { background: var(--tag-referido-bg);  color: var(--tag-referido-text); }
.tag-privado   { background: var(--tag-privado-bg);   color: var(--tag-privado-text); }

/* Modalidades */
.tag-presencial { background: var(--tag-presencial-bg); color: var(--tag-presencial-text); }
.tag-virtual    { background: var(--tag-virtual-bg);    color: var(--tag-virtual-text); }

/* ════════════════════════════════════════════════════════════
   FILTER TABS
   ════════════════════════════════════════════════════════════ */
.filter-tabs {
  display: flex;
  align-items: center;
  gap: var(--space-1);
  background: var(--bg);
  padding: 4px;
  border-radius: var(--radius-lg);
  width: fit-content;
}

.filter-tab {
  padding: var(--space-2) var(--space-4);
  border-radius: var(--radius-md);
  font-size: 0.8125rem;
  font-weight: 500;
  color: var(--text-medium);
  cursor: pointer;
  transition: var(--ease);
  white-space: nowrap;
  border: none;
  background: transparent;
}

.filter-tab:hover { color: var(--text); background: var(--surface); }

.filter-tab.active {
  background: var(--surface);
  color: var(--secondary-dark);
  font-weight: 600;
  box-shadow: var(--shadow-sm);
}

/* ════════════════════════════════════════════════════════════
   BACK BUTTON / BREADCRUMB
   ════════════════════════════════════════════════════════════ */
.back-btn {
  display: inline-flex;
  align-items: center;
  gap: var(--space-2);
  color: var(--text-medium);
  font-size: 0.875rem;
  font-weight: 500;
  cursor: pointer;
  padding: var(--space-2) var(--space-3);
  border-radius: var(--radius-md);
  transition: var(--ease);
  border: none;
  background: transparent;
}

.back-btn:hover {
  background: var(--bg);
  color: var(--text);
}

.back-btn svg {
  width: 16px; height: 16px;
  stroke: currentColor; fill: none; stroke-width: 2;
  stroke-linecap: round; stroke-linejoin: round;
}

/* ════════════════════════════════════════════════════════════
   DETALLE PSICÓLOGA — Header
   ════════════════════════════════════════════════════════════ */
.detalle-header {
  background: var(--surface);
  border-radius: var(--radius-xl);
  border: 1px solid var(--border-light);
  padding: var(--space-8);
  margin-bottom: var(--space-6);
  box-shadow: var(--shadow-sm);
}

.detalle-header-top {
  display: flex;
  align-items: flex-start;
  gap: var(--space-6);
  margin-bottom: var(--space-6);
}

.detalle-avatar {
  width: 96px;
  height: 96px;
  border-radius: var(--radius-full);
  object-fit: cover;
  border: 4px solid var(--surface);
  box-shadow: var(--shadow-lg);
  flex-shrink: 0;
}

.detalle-avatar-fallback {
  width: 96px;
  height: 96px;
  border-radius: var(--radius-full);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 2rem;
  font-weight: 700;
  color: white;
  border: 4px solid var(--surface);
  box-shadow: var(--shadow-lg);
  flex-shrink: 0;
}

.detalle-header-info { flex: 1; }

.detalle-header-name {
  font-size: 1.5rem;
  font-weight: 700;
  color: var(--text);
  margin-bottom: var(--space-2);
}

.detalle-header-specialty {
  display: inline-flex;
  align-items: center;
  gap: 5px;
  padding: 4px 12px;
  border-radius: var(--radius-full);
  font-size: 0.8125rem;
  font-weight: 600;
  margin-bottom: var(--space-3);
}

.detalle-header-meta {
  display: flex;
  align-items: center;
  gap: var(--space-4);
  flex-wrap: wrap;
}

.detalle-meta-item {
  display: flex;
  align-items: center;
  gap: 5px;
  font-size: 0.8125rem;
  color: var(--text-medium);
}

.detalle-meta-item svg {
  width: 14px; height: 14px;
  stroke: currentColor; fill: none; stroke-width: 2;
  stroke-linecap: round; stroke-linejoin: round;
  color: var(--text-light);
}

.detalle-header-stats {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
  gap: var(--space-4);
  padding-top: var(--space-5);
  border-top: 1px solid var(--border-light);
}

.detalle-stat-box {
  background: var(--bg);
  border-radius: var(--radius-md);
  padding: var(--space-4);
}

.detalle-stat-box-label {
  font-size: 0.6875rem;
  font-weight: 500;
  color: var(--text-light);
  text-transform: uppercase;
  letter-spacing: 0.6px;
  margin-bottom: var(--space-1);
}

.detalle-stat-box-value {
  font-size: 1.375rem;
  font-weight: 800;
  color: var(--text);
}

/* ════════════════════════════════════════════════════════════
   TABLA DE CONSULTAS
   ════════════════════════════════════════════════════════════ */
.consultas-section {
  background: var(--surface);
  border-radius: var(--radius-xl);
  border: 1px solid var(--border-light);
  box-shadow: var(--shadow-sm);
  overflow: hidden;
}

.consultas-section-header {
  padding: var(--space-5) var(--space-6);
  border-bottom: 1px solid var(--border-light);
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: var(--space-4);
  flex-wrap: wrap;
}

.consultas-section-title {
  font-size: 1rem;
  font-weight: 700;
  color: var(--text);
}

.consultas-filters {
  display: flex;
  align-items: center;
  gap: var(--space-3);
  flex-wrap: wrap;
}

.consultas-table-wrapper {
  overflow-x: auto;
}

.consultas-table {
  width: 100%;
  border-collapse: collapse;
}

.consultas-table th {
  padding: var(--space-3) var(--space-4);
  background: var(--surface-alt);
  font-size: 0.6875rem;
  font-weight: 600;
  color: var(--text-light);
  text-transform: uppercase;
  letter-spacing: 0.8px;
  text-align: left;
  white-space: nowrap;
  border-bottom: 1px solid var(--border);
}

.consultas-table td {
  padding: var(--space-4) var(--space-4);
  border-bottom: 1px solid var(--border-light);
  font-size: 0.875rem;
  color: var(--text);
  vertical-align: middle;
}

.consultas-table tr:last-child td { border-bottom: none; }

.consultas-table tr:hover td { background: var(--bg); }

.consultas-table .paciente-name {
  font-weight: 600;
  color: var(--text);
}

.consultas-table .paciente-initials {
  width: 32px;
  height: 32px;
  border-radius: var(--radius-full);
  background: linear-gradient(135deg, var(--primary-light), var(--secondary-light));
  display: inline-flex;
  align-items: center;
  justify-content: center;
  font-size: 0.6875rem;
  font-weight: 700;
  color: var(--secondary-darker);
  flex-shrink: 0;
  margin-right: var(--space-2);
}

.paciente-cell {
  display: flex;
  align-items: center;
}

.consultas-table .fecha-cell {
  color: var(--text-medium);
  white-space: nowrap;
}

.consultas-table .hora-cell {
  font-size: 0.8125rem;
  color: var(--text-light);
  white-space: nowrap;
}

.consultas-table .valor-cell {
  font-weight: 700;
  color: var(--primary-dark);
  white-space: nowrap;
}

.consultas-table .sesion-cell {
  color: var(--text-light);
  font-size: 0.8125rem;
}

.consultas-empty {
  padding: var(--space-12) var(--space-6);
  text-align: center;
  color: var(--text-light);
}

.consultas-empty svg {
  width: 48px; height: 48px;
  stroke: var(--border); fill: none; stroke-width: 1.5;
  stroke-linecap: round; stroke-linejoin: round;
  margin: 0 auto var(--space-3);
  display: block;
}

/* ════════════════════════════════════════════════════════════
   EMPTY STATE
   ════════════════════════════════════════════════════════════ */
.empty-state {
  text-align: center;
  padding: var(--space-12) var(--space-6);
}

.empty-state-icon {
  width: 72px;
  height: 72px;
  border-radius: var(--radius-2xl);
  background: var(--primary-lighter);
  display: flex;
  align-items: center;
  justify-content: center;
  margin: 0 auto var(--space-4);
}

.empty-state-icon svg {
  width: 32px; height: 32px;
  stroke: var(--primary); fill: none; stroke-width: 1.5;
  stroke-linecap: round; stroke-linejoin: round;
}

.empty-state h4 { color: var(--text); margin-bottom: var(--space-2); }
.empty-state p  { color: var(--text-medium); font-size: 0.875rem; }

/* ════════════════════════════════════════════════════════════
   LOADING SPINNER
   ════════════════════════════════════════════════════════════ */
.spinner {
  width: 32px;
  height: 32px;
  border: 3px solid var(--primary-light);
  border-top-color: var(--primary);
  border-radius: 50%;
  animation: spin 0.7s linear infinite;
  margin: var(--space-8) auto;
}

@keyframes spin { to { transform: rotate(360deg); } }

/* ════════════════════════════════════════════════════════════
   TOOLTIP
   ════════════════════════════════════════════════════════════ */
[data-tooltip] {
  position: relative;
}

[data-tooltip]::after {
  content: attr(data-tooltip);
  position: absolute;
  bottom: calc(100% + 6px);
  left: 50%;
  transform: translateX(-50%);
  background: var(--text);
  color: white;
  font-size: 0.6875rem;
  font-weight: 500;
  padding: 4px 8px;
  border-radius: var(--radius-sm);
  white-space: nowrap;
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.15s ease;
  z-index: 200;
}

[data-tooltip]:hover::after { opacity: 1; }

/* ════════════════════════════════════════════════════════════
   MONTH SUMMARY CARD (resumen mensual en detalle)
   ════════════════════════════════════════════════════════════ */
.resumen-mes-cards {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
  gap: var(--space-4);
  margin-bottom: var(--space-6);
}

.resumen-mes-card {
  background: var(--surface);
  border-radius: var(--radius-lg);
  border: 1px solid var(--border-light);
  padding: var(--space-5);
  text-align: center;
  box-shadow: var(--shadow-xs);
}

.resumen-mes-card-value {
  font-size: 1.5rem;
  font-weight: 800;
  color: var(--text);
  margin-bottom: 4px;
}

.resumen-mes-card-value.primary { color: var(--primary-dark); }
.resumen-mes-card-value.secondary { color: var(--secondary-dark); }

.resumen-mes-card-label {
  font-size: 0.6875rem;
  font-weight: 500;
  color: var(--text-light);
  text-transform: uppercase;
  letter-spacing: 0.6px;
}
